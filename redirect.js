// on 404, redirect if path matches any entry in redirects list

const tsv = 
    "bWVsem9vbQlodHRwczovL3VjZGVudmVyLnpvb20udXMvai82NDIzMzUyNDE0P3B3ZD1UMFJDVkZFek9VWktaSEpHY2taSGNFeFBWRnBtZHowOQpqdWx6b29tCWh0dHBzOi8vdWNkZW52ZXIuem9vbS51cy9qLzI2NjI3NDUxODI/cHdkPVV6VTFWMFp4YlZaWVdHMTZhaTlIVDBKSU9EZFdaejA5Cm5pY29sZXpvb20JaHR0cHM6Ly91Y2RlbnZlci56b29tLnVzL3MvMjI5NzA2Nzc1OD9wd2Q9U25GeU1raEpXR1pYWlZCb1FXcDRVVUU1T1hneFFUMDkKbWF0dHpvb20JaHR0cHM6Ly91Y2RlbnZlci56b29tLnVzL2ovNDIxODc1MzIzOD9wd2Q9Tld0WWFuYzFOSFU1TVVJMlRqWjFNRWxhY2l0b2R6MDkgCnNoYWhpbXpvb20JaHR0cHM6Ly91Y2RlbnZlci56b29tLnVzL2ovODE0NDg2Njk1ND9wd2Q9YUdOR1NtSkZjRXRwZWk4eWRtOWFRMGMzTW1kU2R6MDkKc2hhd256b29tCWh0dHBzOi8vdWNkZW52ZXIuem9vbS51cy9qLzc0MzI4MTM3NDQ/cHdkPVRFMUpNbXROVm5BMVNVNXJaVmRET0ZGd2FrOU1aejA5CnRpbXpvb20JaHR0cHM6Ly91Y2RlbnZlci56b29tLnVzL2ovNTY3MTUxMDAwNz9wd2Q9VHpCSmFrdDJlVTV3ZVZoMmRTc3dNRFU0VTJzclVUMDkKa2V6b29tCWh0dHBzOi8vdWNkZW52ZXIuem9vbS51cy9qLzYyMjg1NDY0OTQ/cHdkPVVIYzVhVEYyZGpWNGQyTjZla1p3ZVZGTmVWSlJkejA5CnNhYnJpbmF6b29tCWh0dHBzOi8vdWNkZW52ZXIuem9vbS51cy9teS9zYWJyaW5hdG9ybz9wd2Q9Y1ZscU1rNXBjVzQyYjB0eEswTlRZMEpzTjBSSFp6MDkgCmFuaXRhem9vbQlodHRwczovL3VzMDZ3ZWIuem9vbS51cy9teS9hbml0YXpvb21pbmcKYnJhbmRvbnpvb20JaHR0cHM6Ly91Y2RlbnZlci56b29tLnVzL215L3o2OThqY252bmU5M3dmbGs5MjN1ZW9md3Flb3dlamtuczAwOXp6P3B3ZD1jbXB5VHpaa2NIZFJNMWhIT0ZCWVdtazRWbkpCUVQwOQpicnlhbnpvb20JaHR0cHM6Ly91Y2RlbnZlci56b29tLnVzL2ovODMyNjA2MjExNT9wd2Q9ZVZoSFFYUmFRbkp0UVhOT2ExbFFaVXhJTTFka1FUMDkKYW5pdGF6b29tCWh0dHBzOi8vdWNkZW52ZXIuem9vbS51cy9qLzQzMjcyNTg5NTc/cHdkPVZIZEtlR0VyZURWaEx6bElXa1oyVFRSMk0wdDVkejA5CnNhcmFoem9vbQlodHRwczovL3VjZGVudmVyLnpvb20udXMvai8yNzc0OTY0NTEwP3B3ZD1SbEE0TWsxSE5UWjJURVZoSzNST2NrbDBiRmQwZHowOQo=";

const map = Object.fromEntries(
  window
    .atob(tsv)
    .split("\n")
    .map((line) => line.split(/\s/).filter((column) => column))
    .filter((line) => line)
);

const from = window.location.pathname.slice(1);
const to = map[from];

if (from && to) {
  console.log(`Redirecting from ${from} to ${to}`);
  window.location.href = to;
}
